<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Profile | Riyaz Tracker</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
  <link rel="stylesheet" href="style.css" />
  <script defer src="script.js"></script>
  <style>
    form {
      background: rgba(255, 255, 255, 0.05);
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
      max-width: 500px;
      margin: auto;
    }
    form h2 {
      text-align: center;
      margin-bottom: 20px;
      color: var(--text-light);
    }
    form input,
    form select {
      width: 100%;
      padding: 10px;
      margin: 8px 0;
      border: 1px solid var(--grey-line);
      border-radius: 5px;
      background: #0f001c;
      color: white;
    }
    form input:focus,
    form select:focus {
      outline: none;
      border-color: var(--violet-accent);
    }
    form a {
      display: inline-block;
      margin-top: 6px;
      color: #ccc;
      font-size: 14px;
    }
    .subMenu button {
      display: flex;
      align-items: center;
      gap: 6px;
    }
    button.primary {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
    }
  </style>
</head>
<body onload="initProfile()">
  <!-- NAVBAR -->
  <nav class="navbar">
    <div class="nav-left">
      <i class="fa fa-user-circle"></i>
      <span id="navUser">Guest</span>
    </div>
    <div class="nav-right">
      <i class="fa fa-bars" id="menuBtn" onclick="toggleMenu()"></i>
      <ul id="menuList" class="hidden">
        <li><a href="index.html"><i class="fa-solid fa-house"></i> Home</a></li>
        <li><a href="profile.html"><i class="fa-solid fa-user"></i> Profile</a></li>
        <li><a href="history.html"><i class="fa-solid fa-clock-rotate-left"></i> History</a></li>
      </ul>
    </div>
  </nav>

  <main class="container">
    <div class="subMenu">
      <button onclick="showSub('new')"><i class="fa-solid fa-plus"></i> New Profile</button>
      <button onclick="showSub('edit')"><i class="fa-solid fa-pen"></i> Edit Profile</button>
    </div>

    <!-- NEW PROFILE -->
<!-- Replace the genre input field with a dropdown in both new and edit forms -->

<!-- NEW PROFILE -->
<form id="newForm" class="hidden" onsubmit="saveProfile(event)">
  <h2><i class="fa-solid fa-plus"></i> Create Profile</h2>
  <input type="text" id="newName" placeholder="Name" required>
  <input type="number" id="newAge" placeholder="Age" required>
  <select id="newGender">
    <option>Male</option><option>Female</option>
  </select>
  <select id="newGenre" required>
    <option value="">ðŸŽµ Select Music Type</option>
    <option>Classical</option>
    <option>Bollywood</option>
    <option>Folk</option>
    <option>Sufi</option>
    <option>Devotional</option>
    <option>Pop</option>
    <option>Western</option>
    <option>Rap</option>
    <option>Fusion</option>
    <option>Instrumental</option>
  </select>
  <input type="text" id="newScale" placeholder="Scale (e.g. C#, A)">
  <a href="https://tuner.ninja" target="_blank">ðŸŽ¼ Scale Detector</a>
  <button class="primary" type="submit"><i class="fa-solid fa-save"></i> Save</button>
</form>

<!-- EDIT PROFILE -->
<form id="editForm" class="hidden" onsubmit="updateProfile(event)">
  <h2><i class="fa-solid fa-pen"></i> Edit Profile</h2>
  <input type="text" id="editName" required>
  <input type="number" id="editAge" required>
  <select id="editGender"></select>
  <select id="editGenre" required>
    <option value="">ðŸŽµ Select Music Type</option>
    <option>Classical</option>
    <option>Bollywood</option>
    <option>Folk</option>
    <option>Sufi</option>
    <option>Devotional</option>
    <option>Pop</option>
    <option>Western</option>
    <option>Rap</option>
    <option>Fusion</option>
    <option>Instrumental</option>
  </select>
  <input type="text" id="editScale" placeholder="Scale">
  <button class="primary" type="submit"><i class="fa-solid fa-rotate"></i> Update</button>
</form>

  </main>
</body>
</html>
